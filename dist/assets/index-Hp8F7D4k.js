import{a0 as W,r as s,v as T,aw as X,ao as J,aj as q,w as A,aQ as U,aR as Y,ad as Z,al as L}from"./index-tKRtgB90.js";import{C as ee}from"./index-_Ebqtiwf.js";import{u as z}from"./index-ct8nSeFk.js";const te=W.createContext(null),B=te;var ae=function(l,u){var o={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&u.indexOf(e)<0&&(o[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)u.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(o[e[n]]=l[e[n]]);return o};const se=(l,u)=>{var o;const{prefixCls:e,className:n,rootClassName:V,children:p,indeterminate:g=!1,style:w,onMouseEnter:b,onMouseLeave:i,skipGroup:y=!1,disabled:E}=l,r=ae(l,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:O,direction:S,checkbox:d}=s.useContext(T),t=s.useContext(B),{isFormItemInput:N}=s.useContext(X),P=s.useContext(J),x=(o=(t==null?void 0:t.disabled)||E)!==null&&o!==void 0?o:P,f=s.useRef(r.value);s.useEffect(()=>{t==null||t.registerValue(r.value)},[]),s.useEffect(()=>{if(!y)return r.value!==f.current&&(t==null||t.cancelValue(f.current),t==null||t.registerValue(r.value),f.current=r.value),()=>t==null?void 0:t.cancelValue(r.value)},[r.value]);const c=O("checkbox",e),h=q(c),[$,k,j]=z(c,h),m=Object.assign({},r);t&&!y&&(m.onChange=function(){r.onChange&&r.onChange.apply(r,arguments),t.toggleOption&&t.toggleOption({label:p,value:r.value})},m.name=t.name,m.checked=t.value.includes(r.value));const I=A(`${c}-wrapper`,{[`${c}-rtl`]:S==="rtl",[`${c}-wrapper-checked`]:m.checked,[`${c}-wrapper-disabled`]:x,[`${c}-wrapper-in-form-item`]:N},d==null?void 0:d.className,n,V,j,h,k),_=A({[`${c}-indeterminate`]:g},U,k),G=g?"mixed":void 0;return $(s.createElement(Y,{component:"Checkbox",disabled:x},s.createElement("label",{className:I,style:Object.assign(Object.assign({},d==null?void 0:d.style),w),onMouseEnter:b,onMouseLeave:i},s.createElement(ee,Object.assign({"aria-checked":G},m,{prefixCls:c,className:_,disabled:x,ref:u})),p!==void 0&&s.createElement("span",null,p))))},le=s.forwardRef(se),F=le;var ne=function(l,u){var o={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&u.indexOf(e)<0&&(o[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)u.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(o[e[n]]=l[e[n]]);return o};const re=(l,u)=>{const{defaultValue:o,children:e,options:n=[],prefixCls:V,className:p,rootClassName:g,style:w,onChange:b}=l,i=ne(l,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:y,direction:E}=s.useContext(T),[r,O]=s.useState(i.value||o||[]),[S,d]=s.useState([]);s.useEffect(()=>{"value"in i&&O(i.value||[])},[i.value]);const t=s.useMemo(()=>n.map(a=>typeof a=="string"||typeof a=="number"?{label:a,value:a}:a),[n]),N=a=>{d(v=>v.filter(C=>C!==a))},P=a=>{d(v=>[].concat(L(v),[a]))},x=a=>{const v=r.indexOf(a.value),C=L(r);v===-1?C.push(a.value):C.splice(v,1),"value"in i||O(C),b==null||b(C.filter(R=>S.includes(R)).sort((R,H)=>{const K=t.findIndex(M=>M.value===R),Q=t.findIndex(M=>M.value===H);return K-Q}))},f=y("checkbox",V),c=`${f}-group`,h=q(f),[$,k,j]=z(f,h),m=Z(i,["value","disabled"]),I=n.length?t.map(a=>s.createElement(F,{prefixCls:f,key:a.value.toString(),disabled:"disabled"in a?a.disabled:i.disabled,value:a.value,checked:r.includes(a.value),onChange:a.onChange,className:`${c}-item`,style:a.style,title:a.title,id:a.id,required:a.required},a.label)):e,_={toggleOption:x,value:r,disabled:i.disabled,name:i.name,registerValue:P,cancelValue:N},G=A(c,{[`${c}-rtl`]:E==="rtl"},p,g,j,h,k);return $(s.createElement("div",Object.assign({className:G,style:w},m,{ref:u}),s.createElement(B.Provider,{value:_},I)))},oe=s.forwardRef(re),ce=s.memo(oe),D=F;D.Group=ce;D.__ANT_CHECKBOX=!0;const fe=D;export{fe as C};
